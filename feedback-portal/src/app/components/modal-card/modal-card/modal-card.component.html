<div class="container-sm my-3">
  <form>
    <div class="mb-3">
      <label for="email" class="form-label">Email address:</label>
      <input
        type="text"
        class="form-control"
        id="email"
        aria-describedby="emailHelp"
        [(ngModel)]="feedback.email"
        [ngModelOptions]="{ standalone: true }"
      />

      <div id="emailHelp" class="form-text">
        We'll never share your email with anyone else.
      </div>
    </div>

    <div class="mb-3">
      <label for="exampleInputPassword1" class="form-label">Name:</label>
      <input
        type="text"
        class="form-control"
        id="exampleInputPassword1"
        [(ngModel)]="feedback.name"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div class="mb-3">
      <label for="message-text" class="col-form-label">Message:</label>
      <textarea
        class="form-control"
        id="message-text"
        [(ngModel)]="feedback.message"
        [ngModelOptions]="{ standalone: true }"
      ></textarea>
    </div>
    <hr />
    <div class="overflow-scroll">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Email</th>
            <th scope="col">Name</th>
            <th scope="col">Message</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let feedback of feedbackLi">
            <td>{{ feedback.email }}</td>
            <td>{{ feedback.name }}</td>
            <td>{{ feedback.message }}</td>
            <td>
              <button
                type="button"
                class="btn btn-warning mx-2"
                (click)="editFeedback(feedback)"
              >
                Update
              </button>
              <button
                type="button"
                class="btn btn-danger mx-2"
                (click)="deleteFeedback(feedback)"
              >
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="container my-2">
      <button
        *ngIf="!this.editing"
        type="button"
        class="btn btn-primary mx-2"
        (click)="addFeedback()"
        [disabled]="
          this.feedback.message == null ||
          this.feedback.email == null ||
          this.feedback.message == null
        "
      >
        Submit
      </button>
      <button
        *ngIf="this.editing"
        type="button"
        class="btn btn-primary mx-2"
        (click)="updateFeedback()"
        [disabled]="
          this.feedback.message == null ||
          this.feedback.email == null ||
          this.feedback.message == null
        "
      >
        Update
      </button>
      <button
        type="button"
        class="btn btn-warning mx-2"
        (click)="fetchFeedback()"
      >
        Refresh
      </button>
    </div>
  </form>
</div>
